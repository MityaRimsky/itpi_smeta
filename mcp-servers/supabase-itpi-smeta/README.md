# Supabase ITPI Smeta MCP Server

MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Supabase –ø—Ä–æ–µ–∫—Ç–∞ **itpi_smeta** –Ω–∞ VPS **147.45.143.147**.

## üìã –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
cd /Users/addvibe/projects/itpi_smeta/mcp-servers/supabase-itpi-smeta
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª:

```env
SUPABASE_URL=http://147.45.143.147:3000
SUPABASE_ANON_KEY=–≤–∞—à_—Ä–µ–∞–ª—å–Ω—ã–π_–∫–ª—é—á_–∑–¥–µ—Å—å
```

**–ì–¥–µ –≤–∑—è—Ç—å –¥–∞–Ω–Ω—ã–µ:**
- `SUPABASE_URL` - URL –≤–∞—à–µ–≥–æ Supabase API (–æ–±—ã—á–Ω–æ `http://IP:3000`)
- `SUPABASE_ANON_KEY` - –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª—é—á –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ Supabase –ø—Ä–æ–µ–∫—Ç–∞

### 3. –î–æ–±–∞–≤—å—Ç–µ MCP —Å–µ—Ä–≤–µ—Ä –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Cline

–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MCP –≤ Cline –∏ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä:

```json
{
  "mcpServers": {
    "supabase-itpi-smeta": {
      "command": "node",
      "args": [
        "/Users/addvibe/projects/itpi_smeta/mcp-servers/supabase-itpi-smeta/index.js"
      ],
      "env": {
        "SUPABASE_URL": "http://147.45.143.147:3000",
        "SUPABASE_ANON_KEY": "–≤–∞—à_—Ä–µ–∞–ª—å–Ω—ã–π_–∫–ª—é—á_–∑–¥–µ—Å—å"
      }
    }
  }
}
```

**–í–ê–ñ–ù–û:** –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à_—Ä–µ–∞–ª—å–Ω—ã–π_–∫–ª—é—á_–∑–¥–µ—Å—å` –Ω–∞ –≤–∞—à –Ω–∞—Å—Ç–æ—è—â–∏–π SUPABASE_ANON_KEY!

### 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ VS Code

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ VS Code, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É.

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏ exec_migration

**–ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º MCP —Å–µ—Ä–≤–µ—Ä–∞** –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `exec_migration` –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö ITPI.

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. —Ñ–∞–π–ª [INSTALL_EXEC_MIGRATION.md](./INSTALL_EXEC_MIGRATION.md)

**–ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Supabase Dashboard:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –≤ Supabase Dashboard
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ `create_exec_migration.sql`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —á–µ—Ä–µ–∑ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `itpi_list_tables`

–ë–µ–∑ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã `itpi_list_tables` –∏ `itpi_execute_migration` –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

---

## üõ†Ô∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### `itpi_list_tables`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –≤ —Å—Ö–µ–º–µ public (ITPI –ø—Ä–æ–µ–∫—Ç).

### `itpi_execute_sql`
–í—ã–ø–æ–ª–Ω–∏—Ç—å SQL –∑–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (ITPI –ø—Ä–æ–µ–∫—Ç).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `table` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - –∏–º—è —Ç–∞–±–ª–∏—Ü—ã
- `select` - –ø–æ–ª—è –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "*")
- `filter` - —Ñ–∏–ª—å—Ç—Ä –≤ —Ñ–æ—Ä–º–∞—Ç–µ PostgREST
- `order` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- `limit` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π

### `itpi_list_users`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ auth.users (ITPI –ø—Ä–æ–µ–∫—Ç).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `limit` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50)

### `itpi_get_user`
–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (ITPI –ø—Ä–æ–µ–∫—Ç).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `user_id` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### `itpi_execute_migration`
–í—ã–ø–æ–ª–Ω–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é (ITPI –ø—Ä–æ–µ–∫—Ç).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `sql` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - SQL –∫–æ–¥ –º–∏–≥—Ä–∞—Ü–∏–∏

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã —Ç–∏–ø–∞:
- "–ü–æ–∫–∞–∂–∏ —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü –≤ –±–∞–∑–µ itpi_smeta"
- "–ü–æ–ª—É—á–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã X"
- "–í—ã–ø–æ–ª–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã Y"

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –≠—Ç–æ—Ç MCP —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º Supabase MCP –¥–ª—è VPS 5.129.203.41
- –û–±–∞ —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ VPS 147.45.143.147 –∑–∞–ø—É—â–µ–Ω Supabase –∏ –¥–æ—Å—Ç—É–ø–µ–Ω PostgREST API
